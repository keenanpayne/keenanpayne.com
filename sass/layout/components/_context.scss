//
// Context Styles
// ==================================================

p {
  &.-context {
    --border: transparent;
    --background: transparent;

    background-color: var(--background);
    border-top: 5px solid var(--border);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    font-weight: var(--font-weight-semibold);
    margin-bottom: 1.5rem;
    margin-top: 1.5rem;
    padding: 1.5rem 1rem 1rem;
    position: relative;

    @media (--min-480) {
      padding-left: 1.25rem;
      padding-right: 1.25rem;
    }

    @media (--min-720) {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }

    // Context label
    &::before {
      @extend ._text-small;

      background-color: var(--border);
      border-bottom-right-radius: 3px;
      content: var(--text);
      font-weight: var(--font-weight-bold);
      font-variant: all-small-caps;
      left: 0;
      letter-spacing: 0.03em;
      line-height: 1;
      padding: 0.25rem 0.5rem;
      position: absolute;
      top: -1px;
    }

    span:not(.icon) {
      display: block;
      max-width: 95%;
    }

    .icon {
      --size: 40px;

      bottom: 0;
      height: var(--size);
      line-height: 1;
      opacity: 0.3;
      padding: 0.75rem 0.6rem 0.6rem 0.75rem;
      position: absolute;
      right: 0;
      width: var(--size);

      @media (--dark) {
        opacity: 0.5;
      }

      @media (--min-480) {
        --size: 45px;
      }

      // Descendants
      path {
        fill: currentColor;
      }
    }

    // Modifiers
    &.-twitter {
      --border: rgb(29 161 242 / 70%);
      --background: rgb(29 161 242 / 25%);
      --text: "Tweet";
    }

    &.-notice {
      --border: var(--color-yellow-2);
      --background: var(--color-white);
      --text: "Notice";

      .icon {
        opacity: 0.3;
      }

      @media (--dark) {
        color: var(--color-plum-3);
      }
    }

    &.-question {
      --border: var(--color-purple-1);
      --background: var(--color-gray-1);
      --text: "Question";
      --color: var(--color-plum-3);

      color: var(--color);

      @media (--dark) {
        --color: var(--color-plum-3);
      }

      &::before {
        color: var(--color-white);
      }
    }

    &.-note,
    &.-tip {
      --border: var(--color-yellow-2);

      border-left: 3px solid var(--border);
      border-right: 3px solid var(--border);
      border-bottom: 3px solid var(--border);

      &::before {
        color: var(--color-plum-3);
      }
    }

    &.-note {
      --background: var(--color-gray-1);
      --text: "Note";

      color: var(--color-text);

      @media (--dark) {
        --background: var(--color-plum-3);
      }

      // Modifiers
      &.-left {
        @media (--min-640) {
          float: left;
          margin-bottom: 0;
          margin-right: 1.5rem;
          width: 250px;
        }

        @media (--min-800) {
          margin-left: -2.5rem;
        }

        @media (--min-960) {
          margin-left: -5rem;
        }
      }

      &.-right {
        @media (--min-640) {
          float: right;
          margin-top: -5rem;
          margin-left: 1.5rem;
          width: 250px;
        }

        @media (--min-800) {
          margin-right: -2.5rem;
        }

        @media (--min-960) {
          margin-right: -5rem;
        }
      }
    }

    &.-tip {
      --background: var(--color-yellow-1);
      --text: "Tip";

      color: var(--color-plum-3);
    }

    &.-further-reading {
      --text: "Further Reading";

      background-color: transparent;
      border-bottom: 1px solid var(--color-purple-1);
      border-top: 1px solid var(--color-purple-1);
      border-radius: 0;
      box-shadow: none;
      padding-top: 2rem;

      &::before {
        background-color: var(--color-purple-1);
        border-top-left-radius: 0;
        color: var(--color-white);
      }
    }

    &.-tldr {
      --background: var(--color-pre-background);
      --border: var(--color-gray-3);
      --text: "TL;DR";

      color: var(--color-plum-3);
      border-left: 5px solid var(--border);
      border-right: 5px solid var(--border);
      border-bottom: 5px solid var(--border);

      &::before {
        background-color: var(--color-gray-3);
      }
    }

    // Descendants
    .icon {
      opacity: 1;
    }
  }
}
