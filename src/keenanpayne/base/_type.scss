//
// Typography
// ==================================================

//
// Global
// ------

:root { 
  // Global variables
  --font-size: 16px;

  font-size: var(--font-size);
  line-height: 1.5;
  text-rendering: optimizeLegibility;

  @media (--small) {
    --font-size: 18px;
  }

  @media (--large) {
    --font-size: 20px;
  }

  @media (--hella-large) {
    --font-size: 22px;
  }

  @media screen and (-webkit-min-device-pixel-ratio: 2),
         screen and (min-resolution: 2dppx) {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

//
// Paragraphs
// ----------
//
p {
  margin-top: 0;
  font-variant-ligatures: normal;

  // Modifiers
  &.-secondary { 
    color: getColor(text, secondary); 
  }

  &.-large { 
    font-size: typeScale(4); 
    letter-spacing: -.01em;
  }

  &.-small {
    color: getColor(text, secondary);
    font-size: typeScale(.5);
  }

  &.-small-heading {
    font-variant: all-small-caps;
  }

  &.-content-heading {
    @extend p.-secondary;
    @extend p.-small-heading;

    margin-top: $spacing-m;
  }

  &.-section-heading { 
    border-bottom: 2px solid getColor(base, linesDark);
    font-variant: all-small-caps;
    font-weight: $fontWeight-bold;
    margin-bottom: $spacing-s;
    letter-spacing: .02em;
    padding-bottom: .25em;
    text-align: right;

    @media (--small-max) {
      font-size: typeScale(3);
    }
  }
}


//
// Lists
// -----

// Hanging lists for readability
ul, ol {
  @media (--medium) {
    padding-left: 0;
  }
}

ol {
  @media (--medium) {
    margin-left: -1rem;
  }
}

li {
  &:not(:last-child) { 
    margin-bottom: .5em; 
  }
}


//
// Links
// -----

a {
  color: getColor(text, primary);
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }

  // Modifiers
  &.-tertiary { 
    text-decoration: underline;
    text-decoration-color: getColor(base, splash-dark);

    &:hover { 
      color: getColor(base, splash-dark);
    }
  }

  &.-cta {
    box-shadow: inset 0 -.1em 0 0 getColor(base, splash);
    transition: box-shadow $transition-duration;

    &:hover {
      box-shadow: inset 0 -0.45em 0 0 getColor(base, splash);
      text-decoration: none;
    }
  }

  &.-arrow {
    &:after { content: ' â†’'; }
  }
}

// Links in other elements
p,
ul,
ol {
  a {
    font-weight: $fontWeight-normal;
    text-decoration: underline;
  }
}


//
// Headings
// --------
h1, h2, h3, h4, h5, h6 {
  @supports (font-variation-settings: normal) {
    font-family: 'Inter var', sans-serif;
  }
}

h1, h2, h3, h4,
._fontSize-h1,
._fontSize-h2,
._fontSize-h3,
._fontSize-h4 {
  line-height: 1.2;
  margin-top: 0;

  a:hover {
    color: initial;
    text-decoration: underline;
  }

  // Modifiers
  &.-xl {
    font-weight: $fontWeight-heavy;
    margin-bottom: .5lh;

    @media (--large) {
      font-size: typeScale(9);
      letter-spacing: -.0425em;
    }
  }

  &.-secondary { 
    color: getColor(text, secondary); 
  }

  &.-bottom-border {
    border-bottom: 2px solid getColor(base, lines);
    padding-bottom: $spacing-xs;
  }
}

h1,
._fontSize-h1 {
  font-size: typeScale(7);
  letter-spacing: -.035em;
}

h2,
._fontSize-h2 {
  letter-spacing: -.02em;
  margin-bottom: .25em;
  margin-top: 0;
  font-size: typeScale(5);
}

h3,
._fontSize-h3 {
  font-variant: all-small-caps;
  line-height: 1.1;
}

h4,
._fontSize-h4 {
  font-size: typeScale(3);
  font-weight: $fontWeight-normal;
  letter-spacing: -.0125em;
  line-height: 1.3;
}


//
// Blockquotes
// -----------

blockquote {
  color: getColor(text, secondary);
  border-left: 5px solid getColor(base, lines);
  font-style: italic;
  margin-left: 0;
  padding-bottom: $spacing-xxs;
  padding-top: $spacing-xxs;
  transition: border-left-color $transition-duration-long;

  &:hover { 
    border-left-color: getColor(base, splash); 
  }
}


//
// Code
// ----

code {
  background-color: getColor(background, light);
  border: 1px solid getColor(base, lines);
  border-radius: .15em;
  line-height: 1;
  padding: .3em .4em .1em;

  // Link wrapping code
  a & { 
    text-decoration: underline;
  }
}


//
// Tables
// ------

table {
  margin-bottom: $spacing-s;
  margin-top: $spacing-s;
  width: 100%;

  thead {
    background-color: transparent; 
    padding-bottom: $spacing-xs;
    padding-top: $spacing-xs;
  }

  th,
  td { 
    border-right: 1px solid getColor(base, lines); 
  }

  td {
    line-height: inherit;
    padding-bottom: $spacing-xs;
    padding-top: $spacing-xs;
  }

  tr { 
    border-bottom: 1px solid getColor(base, lines); 
  }
}


//
// Superscript
// -----------

sup {
  font-size: 1.15rem;
  top: 0;
}


//
// Global OpenType Modifiers
// -------------------------

.-small-caps {
  font-feature-settings: "smcp";
  font-variant-caps: small-caps;
}

.-all-small-caps {
  font-feature-settings: "c2sc", "smcp";
  font-variant-caps: all-small-caps;
}

.-proportional-numbers {
  font-feature-settings: "pnum";
  font-variant-numeric: proportional-nums;
}

.-fraction {
  font-feature-settings: "frac";
  font-variant-numeric: diagonal-fractions;
}

.-ordinal {
  font-feature-settings: "ordn";
  font-variant-numeric: ordinal;
}
