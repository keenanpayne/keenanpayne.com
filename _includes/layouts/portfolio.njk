---
layout: layouts/base.njk
permalink: "/{{ title | slug }}/"
---
{# TODO: Create generic abstractions for similarities with `service.njk` #}

{% import "organisms/newsletter.njk" as  newsletter with context %}

{% set date = page.date %}
{% set client = case_study.client %}
{% set client_lede = case_study.client_lede %}
{% set client_size = case_study.client_size %}
{% set client_industry = case_study.client_industry %}
{% set client_description = case_study.client_description %}
{% set client_color = case_study.client_color %}
{% set project = case_study.project %}
{% set year = case_study.year %}
{% set url = case_study.url %}
{% set role = case_study.role %}
{% set the_client = case_study.the_client %}
{% set the_challenge = case_study.the_challenge %}
{% set the_solution = case_study.the_solution %}
{% set services = case_study.services %}
{% set technologies = case_study.technologies %}
{% set cover = case_study.cover %}

<section class="portfolio _container -extra-large">
  <header class="portfolio-header">
    <div class="portfolio-meta">
      {%- if type -%}
        <a class="-underline-hover _label" href="/type/{{ type | lower | plural }}" title="View archive for {{ type | lower | plural }}">
          Case Study
        </a>
      {%- endif -%}
    </div>

    <h1 class="portfolio-title">
      {{ title }}
    </h1>

    <h2 class="portfolio-lede _text-h3">
      {{ client_lede }}
    </h2>
  </header>

  <div class="portfolio-content">

    <div class="portfolio-details">
      {% if client_description %}
        <div class="portfolio-detail -full-width">
          <p class="_label">Description</p>
          <p>{{ client_description | safe }}</p>
        </div>
      {% endif %}

      {% if client_size %}
        <div class="portfolio-detail">
          <p class="_label">Company Size</p>
          <p>{{ client_size }}</p>
        </div>
      {% endif %}

      {% if client_industry %}
        <div class="portfolio-detail">
          <p class="_label">Industry</p>
          <p>{{ client_industry }}</p>
        </div>
      {% endif %}

      {% if services %}
        <div class="portfolio-detail">
          <p class="_label">Services Offered</p>

          <ul>
            {% for service in services %}
              <li>{{ service }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      {% if year %}
        <div class="portfolio-detail">
          <p class="_label">Year</p>
          <p>{{ year }}</p>
        </div>
      {% endif %}

      {% if technologies %}
        <div class="portfolio-detail -full-width">
          <p class="_label">Technologies</p>

          <ul>
            {% for technology in technologies %}
              <li>{{ technology }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      {% if url %}
        <div class="portfolio-detail">
          <p>
            <a href="{{ url }}" title="Visit {{ client }} {{ project }}" target="_blank" rel="noopener">
              Visit Site â† 
            </a>
          </p>
        </div>
      {% endif %}
    </div>

    {% if cover %}
      <div class="portfolio-cover">
        <img class="portfolio-cover-img" src="{{ cover }}" alt="{{ client }} project cover" />
      </div>
    {% endif %}

    <div class="portfolio-intro">
      {% if the_client %}
        <div class="portfolio-intro-content">
          <p class="_text-h3">The problem</p>
          <p class="_text-h5">{{ the_client | safe }}</p>
        </div>
      {% endif %}

      {% if the_challenge %}
        <div class="portfolio-intro-content">
          <p class="_text-h3">The challenge</p>
          <p class="_text-h5">{{ the_challenge | safe }}</p>
        </div>
      {% endif %}

      {% if the_solution %}
        <div class="portfolio-intro-content">
          <p class="_text-h3">The solution</p>
          <p class="_text-h5">{{ the_solution | safe }}</p>
        </div>
      {% endif %}
    </div>

    {% for section in sections %}
      {% include "components/" + section.type + ".njk" %}
    {% endfor %}

    <div class="portfolio-subcontent _container -fluid">
      {{ content | safe }}
    </div>
  </div>

  {# TODO: Update this to display featured images so that other content looks more compelling #}
  {% include "components/postNav.njk" %}
</section>

<section class="portfolio-cta" style="--background: {{ client_color }};">
  <div class="portfolio-cta-content _container -large">
    <h2 class="portfolio-cta-title">
      Like what you see?
    </h2>

    <p class="portfolio-cta-description _text-h4">
      Email <a class="-highlight" href="mailto:contact@keenanpayne.com">contact@keenanpayne.com</a> to get me involved in your next project.
    </p>
  </div>
</section>

{% if comments != false %}
  {% include "components/comments.html" %}
{% endif %}