---
layout: layouts/base.njk
permalink: "/{{ title | slug }}/"
---
{# TODO: Create generic abstractions for similarities with `service.njk` #}

{% import "organisms/newsletter.njk" as  newsletter with context %}

{% set portfolioItem = portfolio[data] %}

{% if portfolioItem %}
  {% set client = portfolioItem.name %}
  {% set project = portfolioItem.project %}
  {% set year = portfolioItem.year %}
  {% set lede = portfolioItem.lede %}
  {% set size = portfolioItem.size %}
  {% set industry = portfolioItem.industry %}
  {% set overview = portfolioItem.overview %}
  {% set color = portfolioItem.color %}
  {% set url = portfolioItem.url %}
  {% set role = portfolioItem.role %}
  {% set pillars = portfolioItem.pillars %}
  {% set services = portfolioItem.services %}
  {% set technologies = portfolioItem.technologies %}
  {% set cover = portfolioItem.cover %}
{% endif %}

<section class="portfolio _container -extra-large">
  <header class="portfolio-header">
    <div class="portfolio-meta">
      {%- if type -%}
        <a class="-underline-hover _label" href="/portfolio" title="View portfolio">
          Case Study
        </a>
      {%- endif -%}
    </div>

    {% if client %}
      <h1 class="portfolio-title">
        {{ client }}
      </h1>
    {% endif %}

    {% if lede %}
      <h2 class="portfolio-lede _text-h3">
        {{ lede }}
      </h2>
    {% endif %}
  </header>

  <div class="portfolio-content">
    <div class="portfolio-details">
      {% if overview %}
        <div class="portfolio-detail -full-width">
          <p class="portfolio-label _label">Overview</p>
          <p class="portfolio-stat">{{ overview | safe }}</p>
        </div>
      {% endif %}

      {% if size %}
        <div class="portfolio-detail">
          <p class="portfolio-label _label">Company Size</p>
          <p class="portfolio-stat">{{ size }}</p>
        </div>
      {% endif %}

      {% if industry %}
        <div class="portfolio-detail">
          <p class="portfolio-label _label">Industry</p>
          <p class="portfolio-stat">{{ industry }}</p>
        </div>
      {% endif %}

      {% if services %}
        <div class="portfolio-detail">
          <p class="portfolio-label _label">Services Offered</p>

          <ul>
            {% for service in services %}
              <li>{{ service }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      {% if year %}
        <div class="portfolio-detail">
          <p class="portfolio-label _label">Year</p>
          <p class="portfolio-stat">{{ year }}</p>
        </div>
      {% endif %}

      {% if technologies %}
        <div class="portfolio-detail -full-width">
          <p class="portfolio-label _label">Technologies</p>

          <ul>
            {% for technology in technologies %}
              <li>{{ technology }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      {% if url %}
        <div class="portfolio-detail -full-width">
          <p class="portfolio-stat">
            <a class="button -ghost" href="{{ url }}" title="Visit {{ client }} {{ project }}" target="_blank" rel="noopener">Visit Site</a>
          </p>
        </div>
      {% endif %}
    </div>

    {% if cover %}
      <div class="portfolio-cover">
        <img class="portfolio-cover-img" src="{{ cover }}" alt="{{ client }} project cover" />
      </div>
    {% endif %}

    <div class="portfolio-intro">
      {% if pillars %}
        {% set client = pillars.client %}
        {% set challenge = pillars.challenge %}
        {% set solution = pillars.solution %}

        {% if client %}
          <div class="portfolio-intro-content">
            <p class="_text-h3">The client</p>
            <p class="_text-h5">{{ pillars.client }}</p>
          </div>
        {% endif %}

        {% if challenge %}
          <div class="portfolio-intro-content">
            <p class="_text-h3">The challenge</p>
            <p class="_text-h5">{{ challenge | safe }}</p>
          </div>
        {% endif %}

        {% if solution %}
          <div class="portfolio-intro-content">
            <p class="_text-h3">The solution</p>
            <p class="_text-h5">{{ solution | safe }}</p>
          </div>
        {% endif %}
      {% endif %}
    </div>

    {% for section in sections %}
      {% include "components/" + section.type + ".njk" %}
    {% endfor %}

    {% if content %}
      <div class="portfolio-subcontent _container -fluid">
        {{ content | safe }}
      </div>
    {% endif %}
  </div>

  {# TODO: Update this to display featured images so that other content looks more compelling #}
  {% include "components/postNav.njk" %}
</section>

<section class="portfolio-cta">
  <div class="portfolio-cta-content">
    <h2 class="portfolio-cta-title">
      Like what you see?
    </h2>

    <p class="portfolio-cta-description _text-h3">
      Reach out and let's talk about how I can help with your next project.
    </p>

    <p class="portfolio-cta-description _text-h5">
      <a class="button -primary" href="/contact">
        Get in Touch
      </a>
    </p>
  </div>
</section>

{% if comments != false %}
  {% include "components/comments.html" %}
{% endif %}