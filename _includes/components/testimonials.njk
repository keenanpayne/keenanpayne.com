{# Imports #}
{% import "atoms/label.njk" as label with context %}

{# Component Settings #}
{% set ids = section.ids %}

{% if ids %}
  <section class="testimonials _grid _page-spacing-top">
    {{ label.output('Kind words from others', 'testimonials-label _container') }}

    <div class="testimonials-container">
      {% for id in ids %}
        {% for testimonial in collections.testimonials %}
          {% if testimonial.id == id %}
            <div class="testimonials-slide">
              {% include "components/testimonial.njk" %}
            </div>
          {% endif %}
        {% endfor %}
      {% endfor %}
    </div>
    
    <div class="testimonials-nav">
      <button class="testimonials-button -prev" aria-label="Previous testimonial">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="testimonials-button -next" aria-label="Next testimonial">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </section>
{% endif %}